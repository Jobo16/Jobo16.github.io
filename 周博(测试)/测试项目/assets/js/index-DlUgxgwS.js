import{_ as r,o as h,c as u,q as a}from"../index-DYxDfolO.js";const c={name:"Editor",props:{value:{type:String,default:""},height:{type:Number,default:null},minHeight:{type:Number,default:null}},data(){return{Quill:null,currentValue:"",options:{theme:"snow",bounds:document.body,debug:"warn",modules:{toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],[{list:"ordered"},{list:"bullet"}],[{indent:"-1"},{indent:"+1"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{align:[]}],["clean"],["link","image","video"]]},placeholder:"请输入内容",readOnly:!1}}},computed:{styles(){let e={};return this.minHeight&&(e.minHeight=`${this.minHeight}px`),this.height&&(e.height=`${this.height}px`),e}},watch:{value:{handler(e){e!==this.currentValue&&(this.currentValue=e,this.Quill&&this.Quill.pasteHTML(this.value))},immediate:!0}},mounted(){this.init()},beforeUnmount(){this.Quill=null},methods:{init(){const e=this.$refs.editor;this.Quill=new Quill(e,this.options),this.Quill.pasteHTML(this.currentValue),this.Quill.on("text-change",(t,i,l)=>{const n=this.$refs.editor.children[0].innerHTML,s=this.Quill.getText(),o=this.Quill;this.currentValue=n,this.$emit("input",n),this.$emit("on-change",{html:n,text:s,quill:o})}),this.Quill.on("text-change",(t,i,l)=>{this.$emit("on-text-change",t,i,l)}),this.Quill.on("selection-change",(t,i,l)=>{this.$emit("on-selection-change",t,i,l)}),this.Quill.on("editor-change",(t,...i)=>{this.$emit("on-editor-change",t,...i)})}}};function d(e,t,i,l,n,s){return h(),u("div",{class:"editor",ref:"editor",style:a(s.styles)},null,4)}const g=r(c,[["render",d]]);export{g as default};
