import{_ as w,o,c as u,t as c,r as p,F as f,h as x,i as h,j as P,e as D,k as m,f as O,d as S,l as T}from"../index-DYxDfolO.js";let V=0;const y="webkit moz ms o".split(" ");let s,r;const C=typeof window>"u";if(C)s=function(){},r=function(){};else{s=window.requestAnimationFrame,r=window.cancelAnimationFrame;let t;for(let a=0;a<y.length&&!(s&&r);a++)t=y[a],s=s||window[t+"RequestAnimationFrame"],r=r||window[t+"CancelAnimationFrame"]||window[t+"CancelRequestAnimationFrame"];(!s||!r)&&(s=function(a){const e=new Date().getTime(),i=Math.max(0,16-(e-V)),l=window.setTimeout(()=>{a(e+i)},i);return V=e+i,l},r=function(a){window.clearTimeout(a)})}const N={props:{startVal:{type:Number,required:!1,default:0},endVal:{type:Number,required:!1,default:2017},duration:{type:Number,required:!1,default:3e3},autoplay:{type:Boolean,required:!1,default:!0},decimals:{type:Number,required:!1,default:0,validator(t){return t>=0}},decimal:{type:String,required:!1,default:"."},separator:{type:String,required:!1,default:","},prefix:{type:String,required:!1,default:""},suffix:{type:String,required:!1,default:""},useEasing:{type:Boolean,required:!1,default:!0},easingFn:{type:Function,default(t,a,e,i){return e*(-Math.pow(2,-10*t/i)+1)*1024/1023+a}}},data(){return{localStartVal:this.startVal,displayValue:this.formatNumber(this.startVal),printVal:null,paused:!1,localDuration:this.duration,startTime:null,timestamp:null,remaining:null,rAF:null}},computed:{countDown(){return this.startVal>this.endVal}},watch:{startVal(){this.autoplay&&this.start()},endVal(){this.autoplay&&this.start()}},mounted(){this.autoplay&&this.start(),this.$emit("mountedCallback")},methods:{start(){this.localStartVal=this.startVal,this.startTime=null,this.localDuration=this.duration,this.paused=!1,this.rAF=s(this.count)},pauseResume(){this.paused?(this.resume(),this.paused=!1):(this.pause(),this.paused=!0)},pause(){r(this.rAF)},resume(){this.startTime=null,this.localDuration=+this.remaining,this.localStartVal=+this.printVal,s(this.count)},reset(){this.startTime=null,r(this.rAF),this.displayValue=this.formatNumber(this.startVal)},count(t){this.startTime||(this.startTime=t),this.timestamp=t;const a=t-this.startTime;this.remaining=this.localDuration-a,this.useEasing?this.countDown?this.printVal=this.localStartVal-this.easingFn(a,0,this.localStartVal-this.endVal,this.localDuration):this.printVal=this.easingFn(a,this.localStartVal,this.endVal-this.localStartVal,this.localDuration):this.countDown?this.printVal=this.localStartVal-(this.localStartVal-this.endVal)*(a/this.localDuration):this.printVal=this.localStartVal+(this.endVal-this.localStartVal)*(a/this.localDuration),this.countDown?this.printVal=this.printVal<this.endVal?this.endVal:this.printVal:this.printVal=this.printVal>this.endVal?this.endVal:this.printVal,this.displayValue=this.formatNumber(this.printVal),a<this.localDuration?this.rAF=s(this.count):this.$emit("callback")},isNumber(t){return!isNaN(parseFloat(t))},formatNumber(t){t=t.toFixed(this.decimals),t+="";const a=t.split(".");let e=a[0];const i=a.length>1?this.decimal+a[1]:"",l=/(\d+)(\d{3})/;if(this.separator&&!this.isNumber(this.separator))for(;l.test(e);)e=e.replace(l,"$1"+this.separator+"$2");return this.prefix+e+i+this.suffix}},destroyed(){r(this.rAF)}};function q(t,a,e,i,l,_){return o(),u("span",null,c(l.displayValue),1)}const d=w(N,[["render",q]]);function A(t,a,e){return a in t?Object.defineProperty(t,a,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[a]=e,t}function g(t,a){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);a&&(i=i.filter((function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable}))),e.push.apply(e,i)}return e}d.unmounted=d.destroyed,Reflect.deleteProperty(d,"destroyed");var k=(function(t){for(var a=1;a<arguments.length;a++){var e=arguments[a]!=null?arguments[a]:{};a%2?g(Object(e),!0).forEach((function(i){A(t,i,e[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):g(Object(e)).forEach((function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))}))}return t})({name:"CountTo",emits:["callback","mountedCallback"]},d);const j={components:{CountTo:k},props:{data:{type:Array,default:()=>[]},isCardWrap:{type:Boolean,default:!1},defaultProps:{type:Object,default:()=>({title:"title",value:"value",tips:"tips"})}},data(){return{}},computed:{},watch:{},created(){},mounted(){},methods:{}},B={class:"label"},E={key:0,class:"tips toe mt10"},R={class:"mt10 value"};function $(t,a,e,i,l,_){const b=p("el-popover"),v=p("CountTo");return o(),u("ul",{class:T(["card-group-index",{"card-wrap":e.isCardWrap}])},[(o(!0),u(f,null,x(e.data,(n,F)=>(o(),u("li",{key:F,class:"card-index-li"},[h("div",B,[h("span",null,c(n[e.defaultProps.title]),1),n[e.defaultProps.tips]!==void 0?(o(),u("div",E,[P(b,{trigger:"hover",content:n[e.defaultProps.tips],placement:"top-start"},{reference:D(()=>[m(c(n[e.defaultProps.tips]),1)]),_:2},1032,["content"])])):O("",!0)]),h("div",R,[+n[e.defaultProps.value]==n[e.defaultProps.value]?(o(),S(v,{key:0,class:"view-item-num","start-val":0,"end-val":+n[e.defaultProps.value]||0},null,8,["end-val"])):(o(),u(f,{key:1},[m(c(n[e.defaultProps.value]),1)],64))])]))),128))],2)}const M=w(j,[["render",$],["__scopeId","data-v-fce06d0f"]]);export{M as default};
