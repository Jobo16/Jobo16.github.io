import{g as S,d as k,_ as N}from"./aev-DZDW8C9x.js";import{_ as q,d as R,e as o,C as f,r as s,o as $,j as n,G as w,i as c,t as b,k as r,f as G,D as _,V as P}from"../index-DYxDfolO.js";import"./category-DvOjyH99.js";import"./index-Bg3NuP4d.js";const x={class:"mid-action mb0"},A=["onClick"],O={__name:"index",props:{isSelect:{type:Boolean,default:!1}},setup(p){const m=_({}),g=_(),d=_();function v(t){g.value.action(t),P(()=>{d.value.form=t||{categoryId:m.value.categoryId},d.value.talkList=(t==null?void 0:t.scriptSubs)||[]})}return(t,e)=>{const B=s("el-input"),T=s("el-form-item"),C=s("el-button"),V=s("BaDialog"),u=s("el-table-column"),y=s("TableOperateBtn"),D=s("RequestChartTable"),L=s("LeftRightGroupListPage");return $(),R(L,{_:t.$store.setBusininessDesc("<div>创建企业标准运营话术，通过聊天工具栏一键发送，提升沟通效率</div>"),ref:"lrPageRef",isDisabledAction:p.isSelect,type:"13",onCurrentChange:e[4]||(e[4]=i=>(f(m).categoryId=i.id,t.$refs.rctRef.getList(1)))},{default:o(()=>[n(D,{ref:"rctRef",isCreateRequest:!1,params:f(m),request:f(S),onSelectionChange:e[3]||(e[3]=i=>t.$emit("selectionChange",i))},w({query:o(({query:i})=>[n(T,{label:"话术标题",prop:"title"},{default:o(()=>[n(B,{modelValue:i.title,"onUpdate:modelValue":l=>i.title=l,placeholder:"请输入",clearable:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),table:o(({data:i})=>[n(u,{label:"话术标题",prop:"title","show-overflow-tooltip":!0}),n(u,{label:"话术素材数量",prop:"scriptNumber"},{default:o(({row:l})=>[c("div",{class:"scriptNum",onClick:a=>t.goDetail(l)},b(l.scriptNumber),9,A)]),_:1}),n(u,{label:"最近更新",prop:"updateTime",width:"180"},{default:o(({row:l})=>[r(b(l.updateBy)+" ",1),e[7]||(e[7]=c("br",null,null,-1)),r(" "+b(l.updateTime),1)]),_:1}),p.isSelect?G("",!0):($(),R(u,{key:0,label:"操作",fixed:"right",width:"220"},{default:o(({row:l})=>[n(y,{type:"edit",onClick:a=>v(l)},{default:o(()=>[...e[8]||(e[8]=[r("编辑",-1)])]),_:1},8,["onClick"]),n(y,{type:"delete",onClick:a=>t.$refs.rctRef.apiConfirm(f(k),l.id)},{default:o(()=>[...e[9]||(e[9]=[r("删除",-1)])]),_:1},8,["onClick"])]),_:1}))]),_:2},[p.isSelect?void 0:{name:"operation",fn:o(({selectedIds:i})=>[c("div",x,[n(C,{type:"primary",onClick:e[0]||(e[0]=l=>v())},{default:o(()=>[...e[5]||(e[5]=[r("新建组合话术",-1)])]),_:1}),n(V,{ref_key:"dialogRef",ref:g,width:"1000px",dynamicTitle:"组合话术",onConfirm:e[1]||(e[1]=({visible:l,loading:a})=>{a.value=!0,t.$refs.aevRef.submit().then(()=>{l.value=!1,t.$refs.rctRef.getList(1)}).finally(()=>{a.value=!1})})},{default:o(()=>[n(N,{ref_key:"aevRef",ref:d},null,512)]),_:1},512),n(C,{type:"primary",plain:"",disabled:!(i!=null&&i.length),onClick:e[2]||(e[2]=l=>{var a;return(a=t.$refs.rctRef)==null?void 0:a.apiConfirm(f(k))})},{default:o(()=>[...e[6]||(e[6]=[r(" 删除 ",-1)])]),_:1},8,["disabled"])])]),key:"0"}]),1032,["params","request"])]),_:1},8,["_","isDisabledAction"])}}},F=q(O,[["__scopeId","data-v-f629657b"]]);export{F as default};
