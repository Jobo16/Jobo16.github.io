import{A as y,b as v}from"./AddTag-DyTLK-D_.js";import{_ as C,c,j as t,e as o,d as N,r,o as d,f as x,k as p,i as B}from"../index-DYxDfolO.js";const w={components:{AddTag:y},props:{},data(){return{api:v,loading:!1,dialogVisible:!1,groupTagType:2,form:{groupName:"",weTags:[],groupTagType:2},newInput:"",newInputVisible:!1,rules:Object.freeze({groupName:[{required:!0,message:"必填项",trigger:"blur"}]}),multiple:!0}},computed:{},created(){},methods:{edit(u,e){this.form=JSON.parse(JSON.stringify(Object.assign({groupTagType:this.groupTagType,weTags:[]},u||{}))),this.dialogVisible=!0}}},I={class:"groupTag"},q={class:"flex justify-end"},R={key:0};function j(u,e,A,O,s,m){const f=r("BaInput"),a=r("el-button"),g=r("el-table-column"),b=r("TagEllipsis"),T=r("RequestChartTable"),_=r("AddTag");return d(),c("div",I,[t(T,{ref:"rct",request:s.api.getList,searchBtnType:"icon"},{query:o(({query:l})=>[t(f,{label:"标签组名称",prop:"groupName",modelValue:l.groupName,"onUpdate:modelValue":i=>l.groupName=i},null,8,["modelValue","onUpdate:modelValue"])]),operate:o(({goRoute:l})=>[t(a,{type:"primary",onClick:e[0]||(e[0]=i=>m.edit())},{default:o(()=>[...e[3]||(e[3]=[p("新建标签组",-1)])]),_:1})]),operation:o(({goRoute:l,apiConfirm:i})=>[B("div",q,[t(a,{type:"danger",plain:"",onClick:n=>i(s.api.del)},{default:o(()=>[...e[4]||(e[4]=[p("批量删除",-1)])]),_:1},8,["onClick"])])]),table:o(({apiConfirm:l,goRoute:i})=>[t(g,{label:"标签组",align:"center",prop:"groupName"}),t(g,{label:"标签",align:"center",prop:"weTags"},{default:o(({row:n})=>[n.weTags?(d(),c("div",R,[t(b,{list:n.weTags},null,8,["list"])])):x("",!0)]),_:1}),t(g,{label:"操作",align:"center"},{default:o(({row:n,index:V})=>[t(a,{text:"",onClick:k=>m.edit(n,V)},{default:o(()=>[...e[5]||(e[5]=[p("编辑",-1)])]),_:1},8,["onClick"]),t(a,{text:"",onClick:k=>l(s.api.del,n.groupId)},{default:o(()=>[...e[6]||(e[6]=[p("删除",-1)])]),_:1},8,["onClick"])]),_:2},1024)]),_:1},8,["request"]),(d(),N(_,{visible:s.dialogVisible,"onUpdate:visible":e[1]||(e[1]=l=>s.dialogVisible=l),form:s.form,key:s.dialogVisible,onSuccess:e[2]||(e[2]=l=>u.$refs.rct.getList(!s.form.groupId&&1)),module:"groupTag"},null,8,["visible","form"]))])}const U=C(w,[["render",j]]);export{U as default};
