import{H as S,_ as U,c as k,i as d,j as o,e as n,w as C,P as w,r,o as x,k as u}from"../index-DYxDfolO.js";const{get:D,post:L,put:O,delt:T}=S,_="/user",V=e=>D(`${_}/findUserPage`,e),z=()=>L(`${_}/synchUser`),M=Object.freeze(Object.defineProperty({__proto__:null,getList:V,synchUser:z},Symbol.toStringTag,{value:"Module"}));let{getList:f,synchUser:y}={};const N={data(){return{getList:f,synchUser:y}=M,{activeName:"first",list:"",total:0,multipleSelection:[],loading:!1,dialogVisible:!1,form:{},queryParm:{name:null,page:1,size:10},options:[],xData:[],series:[],tabCount:{}}},watch:{},created(){this.getList()},mounted(){},methods:{getList(e){e==null&&(e=this.queryParm),this.$store.loading=!0,console.log(e),f(e).then(t=>{this.list=t.data,this.total=t.count,this.multipleSelection=[]}).catch(t=>console.error(t)).finally(()=>this.$store.loading=!1)},getData(){var e={name:this.queryParm.name,page:this.queryParm.page,size:this.queryParm.size};this.getList(e)},synchUser(){y().then(e=>{this.msgSuccess(e.msg)}).catch(e=>console.error(e)).finally(()=>this.$store.loading=!1)},restting(){this.queryParm.name=null,this.getData()},formatStatus(e){return{1:"已激活",2:"已禁用",4:"未激活",5:"退出企业"}[e.status]||"未知状态"},formatDate(e){const t=e.getFullYear(),p=(e.getMonth()+1).toString().padStart(2,"0"),c=e.getDate().toString().padStart(2,"0");return`${t}-${p}-${c}`}}},j={class:"g-card"},B={class:"fxbw"};function F(e,t,p,c,l,a){const h=r("el-input"),g=r("el-form-item"),i=r("el-button"),b=r("el-form"),m=r("el-table-column"),P=r("el-table"),q=r("pagination");return x(),k("div",null,[d("div",j,[o(b,{class:"searchForm",ref:"searchForm",model:l.queryParm,"label-width":"",inline:""},{default:n(()=>[o(g,{label:"员工名称:",prop:"value3"},{default:n(()=>[o(h,{modelValue:l.queryParm.name,"onUpdate:modelValue":t[0]||(t[0]=s=>l.queryParm.name=s),placeholder:""},null,8,["modelValue"])]),_:1}),o(g,null,{default:n(()=>[o(i,{type:"primary",onClick:a.getData},{default:n(()=>[...t[6]||(t[6]=[u("查询",-1)])]),_:1},8,["onClick"]),o(i,{onClick:a.restting},{default:n(()=>[...t[7]||(t[7]=[u("重置",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1},8,["model"]),d("div",B,[o(i,{type:"primary",onClick:t[1]||(t[1]=s=>a.synchUser())},{default:n(()=>[...t[8]||(t[8]=[u("同步员工",-1)])]),_:1})]),o(P,{data:l.list,"tooltip-effect":"dark","highlight-current-row":"",onSelectionChange:t[2]||(t[2]=s=>l.multipleSelection=s.map(v=>v.msgId))},{default:n(()=>[o(m,{label:"员工名称",prop:"name"}),o(m,{label:"员工状态",prop:"status",formatter:a.formatStatus},null,8,["formatter"]),o(m,{label:"职务",prop:"position"})]),_:1},8,["data"]),C(o(q,{total:l.total,page:l.queryParm.page,"onUpdate:page":t[3]||(t[3]=s=>l.queryParm.page=s),limit:l.queryParm.size,"onUpdate:limit":t[4]||(t[4]=s=>l.queryParm.size=s),onPagination:t[5]||(t[5]=s=>a.getList())},null,8,["total","page","limit"]),[[w,l.total>0]])])])}const E=U(N,[["render",F],["__scopeId","data-v-7a2cb0a7"]]);export{E as default};
