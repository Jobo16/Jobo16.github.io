import{d as g}from"./index-CtSVQMOO.js";import{_ as b,r as n,o as a,d as p,e as o,j as r,i as s,c as U,F as y,f as v}from"../index-DYxDfolO.js";var w=(f,l,e)=>{/\.html$/gi.test(l)?e():e(new Error("必须以 .html 作为后缀"))},x=(f,l,e)=>{/^https?:\/\//gi.test(l)?e():e(new Error("必须以 http://或 https://开头"))};const M={components:{},props:{form:{type:Object,default:()=>({})},type:{type:String,default:null}},data(){return{dictMsgType:g,rules:Object.freeze({title:[{required:!0,message:"必填项",trigger:"blur"}],picUrl:[{required:!0,message:"必填项",trigger:"change"}],videoUrl:[{required:!0,message:"必填项",trigger:"change"}],fileUrl:[{required:!0,message:"必填项",trigger:"change"}],appid:[{required:!0,message:"必填项",trigger:"blur"}],page:[{required:!0,message:"必填项",trigger:"blur"},{validator:w,trigger:"blur"}],url:[{required:!0,message:"必填项",trigger:"blur"},{validator:x,trigger:"blur"}]})}},watch:{},computed:{},methods:{submit(){return this.$refs.form.validate().then(()=>JSON.parse(JSON.stringify(this.form))).catch(f=>(this.msgError(g[this.type].name+"表单信息填写不完整"),Promise.reject(f)))}}};function _(f,l,e,k,m,q){const u=n("Upload"),i=n("el-form-item"),d=n("el-input"),V=n("el-form");return a(),p(V,{ref:"form",model:e.form,rules:m.rules,"label-width":"100px"},{default:o(()=>[e.type===m.dictMsgType.image.type?(a(),p(i,{key:0,label:"",prop:"picUrl"},{default:o(()=>[r(u,{fileUrl:e.form.picUrl,"onUpdate:fileUrl":l[0]||(l[0]=t=>e.form.picUrl=t)},{tip:o(()=>[...l[11]||(l[11]=[s("div",null,"图片大小不超过2M",-1)])]),_:1},8,["fileUrl"])]),_:1})):e.type===m.dictMsgType.link.type?(a(),U(y,{key:1},[r(i,{label:"链接标题",prop:"title"},{default:o(()=>[r(d,{modelValue:e.form.title,"onUpdate:modelValue":l[1]||(l[1]=t=>e.form.title=t),type:"text",maxlength:32,"show-word-limit":"",placeholder:"请输入链接标题"},null,8,["modelValue"])]),_:1}),r(i,{label:"链接描述"},{default:o(()=>[r(d,{modelValue:e.form.desc,"onUpdate:modelValue":l[2]||(l[2]=t=>e.form.desc=t),type:"textarea",maxlength:120,"show-word-limit":"",autosize:{minRows:3,maxRows:50},placeholder:"请输入链接描述"},null,8,["modelValue"])]),_:1}),r(i,{label:"链接封面"},{default:o(()=>[r(u,{fileUrl:e.form.picUrl,"onUpdate:fileUrl":l[3]||(l[3]=t=>e.form.picUrl=t)},null,8,["fileUrl"])]),_:1}),r(i,{label:"链接地址",prop:"url"},{default:o(()=>[r(d,{modelValue:e.form.url,"onUpdate:modelValue":l[4]||(l[4]=t=>e.form.url=t),type:"text",placeholder:"请输入链接地址，以http://或https://开头"},null,8,["modelValue"])]),_:1})],64)):e.type===m.dictMsgType.miniprogram.type?(a(),U(y,{key:2},[r(i,{label:"小程序标题",prop:"title"},{default:o(()=>[r(d,{modelValue:e.form.title,"onUpdate:modelValue":l[5]||(l[5]=t=>e.form.title=t),placeholder:"请输入小程序标题",maxlength:16,"show-word-limit":""},null,8,["modelValue"])]),_:1}),r(i,{label:"小程序ID",prop:"appid"},{default:o(()=>[r(d,{modelValue:e.form.appid,"onUpdate:modelValue":l[6]||(l[6]=t=>e.form.appid=t),placeholder:"小程序AppID"},null,8,["modelValue"])]),_:1}),r(i,{label:"页面路径",prop:"page"},{default:o(()=>[r(d,{modelValue:e.form.page,"onUpdate:modelValue":l[7]||(l[7]=t=>e.form.page=t),placeholder:"请输入小程序路径，必须以 .html 作为后缀"},null,8,["modelValue"])]),_:1}),r(i,{label:"封面",prop:"picUrl"},{default:o(()=>[r(u,{fileUrl:e.form.picUrl,"onUpdate:fileUrl":l[8]||(l[8]=t=>e.form.picUrl=t)},null,8,["fileUrl"])]),_:1})],64)):e.type===m.dictMsgType.video.type?(a(),p(i,{key:3,label:"上传视频",prop:"videoUrl"},{default:o(()=>[r(u,{fileUrl:e.form.videoUrl,"onUpdate:fileUrl":l[9]||(l[9]=t=>e.form.videoUrl=t),type:"video"},{tip:o(()=>[...l[12]||(l[12]=[s("div",null,"支持mp4/mov格式，视频大小不超过100M",-1)])]),_:1},8,["fileUrl"])]),_:1})):e.type===m.dictMsgType.file.type?(a(),p(i,{key:4,label:"上传文件",prop:"fileUrl"},{default:o(()=>[r(u,{fileUrl:e.form.fileUrl,"onUpdate:fileUrl":l[10]||(l[10]=t=>e.form.fileUrl=t),type:"file"},{tip:o(()=>[...l[13]||(l[13]=[s("div",null,"支持pdf/ppt/word文件，文件大小不超过50M",-1)])]),_:1},8,["fileUrl"])]),_:1})):v("",!0)]),_:1},8,["model","rules"])}const N=b(M,[["render",_]]);export{N as default};
