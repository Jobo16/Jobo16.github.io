# 基线功能清单

## 1. 目标

在重构过程中确保核心行为不回归，作为每次改动后的回归对照。

## 2. 功能检查项

1. 目录树渲染：
   - 能展示 `成员 -> 项目 -> 页面` 层级。
   - 项目入口页优先使用 `index.html`。
2. 搜索：
   - 输入成员关键字后过滤列表。
   - 清空关键字后恢复完整列表。
3. 树形交互：
   - `全部展开`/`全部折叠` 按钮可用。
   - 侧边栏收起/展开可用。
4. 预览：
   - 点击项目可在 iframe 打开入口页。
   - 点击子文件可在 iframe 打开对应页面。
   - `新窗口打开` 链接可用。
5. URL 同步：
   - 选择页面后 hash 更新。
   - 刷新页面后可恢复定位。
   - 前进/后退可还原页面。
6. 数据读取：
   - 优先 GitHub API 读取。
   - API 失败时回退 `projects.manifest.json`。
7. 兼容性：
   - 中文路径可正常解析与展示。
   - 根绝对资源路径在可修复场景下自动改为相对路径。

## 3. 回归执行方式

1. 手工回归：
   - 逐项执行第 2 节清单并记录结果。
2. 自动回归：
   - `npm run quality`
   - `python scripts/generate_manifest.py`
   - `npm run manifest:validate`

## 4. 通过标准

1. 手工清单全部通过。
2. 自动回归命令全部通过。
3. 无新增阻断级错误（P0/P1）。
